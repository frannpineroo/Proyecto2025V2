@namespace Proyecto2025.Server.Client.Componentes

@code {
    [Parameter] public string? Sender { get; set; }
    [Parameter] public string Text { get; set; } = string.Empty;
    [Parameter] public string Time { get; set; } = string.Empty;
    [Parameter] public bool IsOwn { get; set; }
    [Parameter] public int MessageId { get; set; }
}

<div class="message @(IsOwn ? "own" : "other")">
    <div class="bubble">

        @if (!string.IsNullOrEmpty(Sender))
        {
            <span class="sender">@Sender</span>
        }

        <p>@Text</p>
        <span class="time">@Time</span>
    </div>
</div>

<style>
    .message {
        display: flex;
        margin-bottom: 10px;
    }

        .message.own {
            justify-content: flex-end;
        }

        .message.other {
            justify-content: flex-start;
        }

    .bubble {
        max-width: 70%;
        padding: 10px 14px;
        border-radius: 10px;
        background: #ececec;
        position: relative;
    }

    .message.own .bubble {
        background: #7a5af8;
        color: white;
    }

    .sender {
        font-size: 11px;
        font-weight: bold;
        color: #555;
        display: block;
        margin-bottom: 4px;
    }

    .message.own .sender {
        color: #eee;
    }

    .time {
        font-size: 10px;
        color: #888;
        display: block;
        text-align: right;
        margin-top: 4px;
    }

    .hide-btn {
        margin-left: 8px;
        font-size: 11px;
        padding: 4px 8px;
        border: none;
        background: #ff6b6b;
        color: white;
        border-radius: 4px;
        cursor: pointer;
    }

    .archived-tag {
        display: inline-block;
        margin-top: 6px;
        padding: 2px 6px;
        font-size: 11px;
        background: #333;
        color: white;
        border-radius: 4px;
    }
</style>